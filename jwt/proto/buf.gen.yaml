version: v2

# Удаляет сгенеренное ранее, то что находится в out каждого плагина.
clean: true

plugins:
  # protoc-gen-go - генерация go типов для message и enum (https://github.com/protocolbuffers/protobuf-go)
  - local: ../bin/protoc-gen-go
    out: ../pkg
    opt:
      - paths=source_relative
  # protoc-gen-go-grpc - генерация grpc сервиса и клиента (https://github.com/grpc/grpc-go)
  - local: ../bin/protoc-gen-go-grpc
    out: ../pkg
    opt:
      - paths=source_relative
inputs:
# путь для плагинов до наших protobuf файлов относительно расположения buf.gen.yaml

  - directory: . 